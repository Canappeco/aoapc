(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4272b550"],{b23a:function(e,t,l){"use strict";l.r(t);var o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"root"},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("el-form",{ref:"form",staticStyle:{width:"600px"},attrs:{model:e.form,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"素材名称"}},[l("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"字体与颜色"}},[l("el-col",{attrs:{span:8}},[l("el-select",{attrs:{placeholder:"选择字体"},model:{value:e.form.fontType,callback:function(t){e.$set(e.form,"fontType",t)},expression:"form.fontType"}},[l("el-option",{attrs:{value:"楷体"}},[e._v("楷体")]),e._v(" "),l("el-option",{attrs:{value:"粗体"}},[e._v("粗体")])],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{type:"number",placeholder:"字号:85--100"},model:{value:e.form.fontSize,callback:function(t){e.$set(e.form,"fontSize",t)},expression:"form.fontSize"}})],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("span",[e._v("选择颜色")]),e._v(" "),l("colorPicker",{staticClass:"choose-color",model:{value:e.form.color,callback:function(t){e.$set(e.form,"color",t)},expression:"form.color"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"模板与logo"}},[l("el-col",{attrs:{span:11}},[l("el-select",{attrs:{placeholder:"选择相应模板",clearable:""},on:{change:e.selectChange},model:{value:e.form.templateUrl,callback:function(t){e.$set(e.form,"templateUrl",t)},expression:"form.templateUrl"}},e._l(e.templateList,(function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.imgUrl}})})),1)],1),e._v(" "),l("el-col",{attrs:{span:11}},[l("el-select",{attrs:{placeholder:"选择相应Logo",clearable:""},on:{change:e.selectChange},model:{value:e.form.logoUrl,callback:function(t){e.$set(e.form,"logoUrl",t)},expression:"form.logoUrl"}},e._l(e.logoList,(function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.imgUrl}})})),1)],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"素材样式"}},[l("el-radio-group",{on:{change:e.typeChange},model:{value:e.mType,callback:function(t){e.mType=t},expression:"mType"}},[l("el-radio",{attrs:{label:"1"}},[e._v("样式一")]),e._v(" "),l("el-radio",{attrs:{label:"2"}},[e._v("样式二")])],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"文字一"}},[l("el-input",{model:{value:e.form.text1,callback:function(t){e.$set(e.form,"text1",t)},expression:"form.text1"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"文字二"}},[l("el-input",{model:{value:e.form.text2,callback:function(t){e.$set(e.form,"text2",t)},expression:"form.text2"}})],1),e._v(" "),e.type_1?e._e():l("el-form-item",{attrs:{label:"文字三"}},[l("el-input",{model:{value:e.form.text3,callback:function(t){e.$set(e.form,"text3",t)},expression:"form.text3"}})],1),e._v(" "),e.type_1?e._e():l("el-form-item",{attrs:{label:"文字四"}},[l("el-input",{model:{value:e.form.text4,callback:function(t){e.$set(e.form,"text4",t)},expression:"form.text4"}})],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"info"},on:{click:e.preview}},[e._v("预览")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.addMaterial}},[e._v("立即生成")])],1)],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("div",{staticClass:"img-wrap"},[l("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{fit:"scale-down",src:e.imgUrl,"preview-src-list":e.srcList}})],1)])],1)],1)},r=[],a=(l("7f7f"),{data:function(){return{type_1:!0,mType:"1",templateList:[],logoList:[],form:{text1:"",text2:null,text3:null,text4:null,logoUrl:"",color:"#ff0000"},imgUrl:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",srcList:[this.imgUrl]}},created:function(){this.getTemplateList(),this.getLogoList()},methods:{preview:function(){this.form.color=this.form.color.substring(1,7),console.log("this.form :",this.form);var e=this;this.req({url:"previewMaterial",data:e.form,method:"POST"}).then((function(t){console.log("res :",t),e.imgUrl=t.data,e.srcList=[e.imgUrl]}),(function(e){console.log("err :",e)}))},uploadSuccess:function(e,t,l){console.log("response :",e),this.form.logoUrl=e.data},selectChange:function(e){console.log("value :",e),this.imgUrl=e,this.srcList=[e]},addMaterial:function(){var e=this,t=this;this.req({url:"addMaterial",data:{name:t.form.name,imgUrl:t.imgUrl,createDate:(new Date).getTime()},method:"POST"}).then((function(t){console.log("res :",t),e.$router.push({path:"/material/check"})}),(function(e){console.log("err :",e)}))},getTemplateList:function(){var e=this;this.req({url:"getTemplateList?page=0&limit=0",data:{},method:"GET"}).then((function(t){console.log("res :",t),e.templateList=t.data}),(function(e){console.log("err :",e)}))},getLogoList:function(){var e=this;this.req({url:"getLogoList?page=0&limit=0",data:{},method:"GET"}).then((function(t){console.log("res :",t),e.logoList=t.data}),(function(e){console.log("err :",e)}))},typeChange:function(e){console.log("value :",e),"1"==e?(this.type_1=!0,this.form.text3=null,this.form.text4=null):this.type_1=!1}}}),s=a,n=(l("d5b7"),l("2877")),i=Object(n["a"])(s,o,r,!1,null,null,null);t["default"]=i.exports},d5b7:function(e,t,l){"use strict";l("ed8d")},ed8d:function(e,t,l){}}]);